ARG BASE_IMAGE_BUILD_FROM=nexus-container-proxy.jkopay.app/maven:3.9.0-eclipse-temurin-17
FROM ${BASE_IMAGE_BUILD_FROM}

WORKDIR /app

COPY ./ ./

RUN tar zxvf ./skywalking/apache-skywalking-java-agent-8.14.0.tgz
RUN --mount=type=cache,target=/root/.m2 mvn dependency:go-offline -B -q